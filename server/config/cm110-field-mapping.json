{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CM-110 PDF Field Mapping Configuration",
  "description": "Maps form submission JSON fields to CM-110 PDF form field names (verified with pdftk)",
  "version": "2.0.0",
  "lastUpdated": "2025-11-12",
  "note": "Field names verified against CM-110.pdf using pdftk dump_data_fields. Total 204 fields discovered.",

  "caseNumberFields": {
    "description": "Case number appears on all 5 pages",
    "page1": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].captionSub[0].CaseNumber[0].caseNumber[0]",
      "type": "text",
      "source": "caseNumber",
      "maxLength": 50,
      "required": true
    },
    "page2": {
      "pdfField": "CM-110[0].Page2[0].PxCaption[0].CaseNumber[0].caseNumber[0]",
      "type": "text",
      "source": "caseNumber"
    },
    "page3": {
      "pdfField": "CM-110[0].Page3[0].PxCaption[0].CaseNumber[0].caseNumber[0]",
      "type": "text",
      "source": "caseNumber"
    },
    "page4": {
      "pdfField": "CM-110[0].Page4[0].PxCaption[0].CaseNumber[0].caseNumber[0]",
      "type": "text",
      "source": "caseNumber"
    },
    "page5": {
      "pdfField": "CM-110[0].Page5[0].PxCaption[0].CaseNumber[0].caseNumber[0]",
      "type": "text",
      "source": "caseNumber"
    }
  },

  "attorneyFields": {
    "description": "Attorney information section (Page 1 header)",
    "barNumber": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].AttyBarNo[0]",
      "type": "text",
      "source": "attorneyBarNumber",
      "maxLength": 20
    },
    "name": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Name[0]",
      "type": "text",
      "source": "attorneyName",
      "maxLength": 100
    },
    "firmName": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].AttyFirm[0]",
      "type": "text",
      "source": "attorneyFirm",
      "maxLength": 100
    },
    "street": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Street[0]",
      "type": "text",
      "source": "attorneyStreet",
      "maxLength": 100
    },
    "city": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].City[0]",
      "type": "text",
      "source": "attorneyCity",
      "maxLength": 50
    },
    "state": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].State[0]",
      "type": "text",
      "source": "attorneyState",
      "maxLength": 30
    },
    "zip": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Zip[0]",
      "type": "text",
      "source": "attorneyZip",
      "maxLength": 10
    },
    "phone": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Phone[0]",
      "type": "text",
      "source": "attorneyPhone",
      "maxLength": 20
    },
    "fax": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Fax[0]",
      "type": "text",
      "source": "attorneyFax",
      "maxLength": 20
    },
    "email": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].Email[0]",
      "type": "text",
      "source": "attorneyEmail",
      "maxLength": 100
    },
    "attorneyFor": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].AttyPartyInfo[0].AttyFor[0]",
      "type": "text",
      "source": "attorneyFor",
      "maxLength": 100
    }
  },

  "courtFields": {
    "description": "Court information section (Page 1 header)",
    "county": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].CourtInfo[0].CrtCounty[0]",
      "type": "text",
      "source": "Filing county",
      "maxLength": 50,
      "required": true
    },
    "courtStreet": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].CourtInfo[0].CrtStreet[0]",
      "type": "text",
      "source": "courtStreetAddress",
      "maxLength": 100
    },
    "courtMailingAddress": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].CourtInfo[0].CrtMailingAdd[0]",
      "type": "text",
      "source": "courtMailingAddress",
      "maxLength": 100
    },
    "courtCityZip": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].CourtInfo[0].CrtCityZip[0]",
      "type": "text",
      "source": "Filing city",
      "transform": "cityZipFormat",
      "maxLength": 75
    },
    "courtBranch": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].CourtInfo[0].CrtBranch[0]",
      "type": "text",
      "source": "courtBranch",
      "maxLength": 50
    }
  },

  "plaintiffFields": {
    "description": "Plaintiff/Petitioner names appear on all 5 pages",
    "page1": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].TitlePartyName[0].Party1[0]",
      "type": "text",
      "source": "PlaintiffDetails[*].PlaintiffItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties",
      "maxLength": 200,
      "required": true
    },
    "page2": {
      "pdfField": "CM-110[0].Page2[0].PxCaption[0].TitlePartyName[0].Party1[0]",
      "type": "text",
      "source": "PlaintiffDetails[*].PlaintiffItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page3": {
      "pdfField": "CM-110[0].Page3[0].PxCaption[0].TitlePartyName[0].Party1[0]",
      "type": "text",
      "source": "PlaintiffDetails[*].PlaintiffItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page4": {
      "pdfField": "CM-110[0].Page4[0].PxCaption[0].TitlePartyName[0].Party1[0]",
      "type": "text",
      "source": "PlaintiffDetails[*].PlaintiffItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page5": {
      "pdfField": "CM-110[0].Page5[0].PxCaption[0].TitlePartyName[0].Party1[0]",
      "type": "text",
      "source": "PlaintiffDetails[*].PlaintiffItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    }
  },

  "defendantFields": {
    "description": "Defendant/Respondent names appear on all 5 pages",
    "page1": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].TitlePartyName[0].Party2[0]",
      "type": "text",
      "source": "DefendantDetails2[*].DefendantItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties",
      "maxLength": 200,
      "required": true
    },
    "page2": {
      "pdfField": "CM-110[0].Page2[0].PxCaption[0].TitlePartyName[0].Party2[0]",
      "type": "text",
      "source": "DefendantDetails2[*].DefendantItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page3": {
      "pdfField": "CM-110[0].Page3[0].PxCaption[0].TitlePartyName[0].Party2[0]",
      "type": "text",
      "source": "DefendantDetails2[*].DefendantItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page4": {
      "pdfField": "CM-110[0].Page4[0].PxCaption[0].TitlePartyName[0].Party2[0]",
      "type": "text",
      "source": "DefendantDetails2[*].DefendantItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    },
    "page5": {
      "pdfField": "CM-110[0].Page5[0].PxCaption[0].TitlePartyName[0].Party2[0]",
      "type": "text",
      "source": "DefendantDetails2[*].DefendantItemNumberName.FirstAndLast",
      "transform": "joinMultipleParties"
    }
  },

  "caseTypeFields": {
    "description": "Case type checkboxes (LIMITED vs UNLIMITED)",
    "unlimited": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].FormTitle[0].limit12[0]",
      "type": "checkbox",
      "source": "caseType",
      "condition": "value === 'unlimited'"
    },
    "limited": {
      "pdfField": "CM-110[0].Page1[0].P1Caption[0].FormTitle[0].limit12[1]",
      "type": "checkbox",
      "source": "caseType",
      "condition": "value === 'limited'"
    }
  },

  "caseManagementFields": {
    "description": "Page 1 case management conference information",
    "conferenceDateAndTime": {
      "pdfField": "CM-110[0].Page1[0].Note[0].Date1[0]",
      "type": "text",
      "source": "caseManagementConferenceDate",
      "maxLength": 50
    },
    "conferenceTime": {
      "pdfField": "CM-110[0].Page1[0].Note[0].Time1[0]",
      "type": "text",
      "source": "caseManagementConferenceTime",
      "maxLength": 20
    },
    "department": {
      "pdfField": "CM-110[0].Page1[0].Note[0].Dept1[0]",
      "type": "text",
      "source": "department",
      "maxLength": 20
    },
    "division": {
      "pdfField": "CM-110[0].Page1[0].Note[0].Div1[0]",
      "type": "text",
      "source": "division",
      "maxLength": 20
    },
    "room": {
      "pdfField": "CM-110[0].Page1[0].Note[0].Rm1[0]",
      "type": "text",
      "source": "room",
      "maxLength": 20
    }
  },

  "partyStatementFields": {
    "description": "Party statement section (Page 1, Section 1)",
    "submittedByPartyName": {
      "pdfField": "CM-110[0].Page1[0].List1[0].Lia[0].TextField2[0]",
      "type": "text",
      "source": "PlaintiffDetails[0].PlaintiffItemNumberName.FirstAndLast",
      "maxLength": 100
    },
    "complaintFiledDate": {
      "pdfField": "CM-110[0].Page1[0].List2[0].Lia[0].Date3[0]",
      "type": "text",
      "source": "complaintFiledDate",
      "maxLength": 30
    },
    "crossComplaintFiledDate": {
      "pdfField": "CM-110[0].Page1[0].List2[0].Lib[0].Date4[0]",
      "type": "text",
      "source": "crossComplaintFiledDate",
      "maxLength": 30
    }
  },

  "transforms": {
    "joinMultipleParties": {
      "description": "Joins array of party names with semicolons",
      "example": "[{FirstAndLast: 'John Doe'}, {FirstAndLast: 'Jane Smith'}] => 'John Doe; Jane Smith'",
      "note": "Used for plaintiff and defendant fields that may have multiple parties"
    },
    "arrayToCommaList": {
      "description": "Converts array to comma-separated string",
      "example": "['Rats/Mice', 'Skunks'] => 'Rats/Mice, Skunks'"
    },
    "cityZipFormat": {
      "description": "Formats city and zip code",
      "example": "{ city: 'Los Angeles', zip: '90001' } => 'Los Angeles 90001'"
    },
    "fullName": {
      "description": "Combines first, middle, last name",
      "example": "{ First: 'John', Last: 'Doe' } => 'John Doe'"
    }
  },

  "fieldTypes": {
    "text": "Text input fields (majority of 204 fields)",
    "checkbox": "Button fields for yes/no selections",
    "button": "Radio button selections"
  },

  "mappingNotes": [
    "CM-110 form has 204 total fields across 5 pages",
    "Field names follow XFA hierarchical pattern: CM-110[0].PageN[0]...",
    "Case number, plaintiff names, and defendant names appear on all 5 pages",
    "Many fields in the form are for court use and not populated from form submission",
    "Attorney fields are optional - often left blank for self-represented litigants",
    "Field names verified using pdftk dump_data_fields on decrypted PDF",
    "Original PDF had encryption type 'R' requiring qpdf decryption first",
    "This mapping covers the essential fields for basic case filing"
  ],

  "TODO": [
    "Add mappings for discovery-related fields (Pages 2-4)",
    "Add mappings for relief requested fields (Page 4)",
    "Add mappings for additional parties continuation fields",
    "Test field mapping with actual form submission data",
    "Verify field name character limits match PDF constraints",
    "Add validation rules for date formats",
    "Document which fields are required vs optional per court rules"
  ]
}
